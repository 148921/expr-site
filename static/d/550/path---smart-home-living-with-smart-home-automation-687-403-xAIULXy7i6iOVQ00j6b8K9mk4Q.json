{"data":{"markdownRemark":{"html":"<p>In this blog post I will share my experience and learnings from living in a smart home for a year. Before we get started, however, let‚Äôs get some things out of the way in the form of a disclaimer list:</p>\n<ul>\n<li>this is not going to be a guide</li>\n<li>this article probably conveys plenty of intentional Home Assistant bias &#x3C;3</li>\n<li>this was not a full out smart home revamp but rather retro fitting and incrementally implementing components</li>\n<li>I will assume you know at least a bit about the whole smart home automation concept on a general level</li>\n<li>I will cover 3 of my main use cases, because I think those to be more relatable to people considering to join the club</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-97417.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.35499398315283%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABuklEQVQozzVRW27bMBDUzRrrQfH9pkSJVqzaaA6QAAmM/vQwTZygl+zIaoEFxV3O7sysKv16W379idebe/uwb+/h+pl+fvnrl3h558+/1etNvHzg8j/9ROC+p5V12frpoeZ1K3tmpYp5WrUZm04SqkOcYyyot0T11Bg75PnU9apuRUdUxcxMZG5obFnqVe7l6NKKk8hRuoWb4sczt6UTo7CF6Vn5peWpYQmASrpi4+OBuIYGwpMws45rwyKCiIGI1Muhpb6hvmVR+4IRdY97EjpXXOeYL9LOHY/KHbnJwh3RWdPwrbNuWIWdgcZoyOE6IT0QiwqnvqJqDPls0gmDqcpgjtOFyGFDiwEVpnPdOwTITTzhtYZMFiG+AiE3EyZ1PAENcj9+RydC2iLthPrOvLHprMMCvt1jpXxB8tDZu6vN8z9XYNZ5LUXcRwPN9GTC41h+KH9EBV2VSyfIxrYRbNv2AG/Y36alsyEdmSl7M3wZv8R85nraV1BhpfjgeQ/MGo9Pm1QaxN2zjGuN0QziAwyCdpcNvxU8aL9sO+g9CIFO8wWgngYuErw0LBx6twWx2EiaLvgFUAGNfwFBftRrn7j0MAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Living in a smart home for a year\"\n        title=\"\"\n        src=\"/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-1b588.png\"\n        srcset=\"/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-dabf4.png 148w,\n/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-6888f.png 295w,\n/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-1b588.png 590w,\n/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-5ad62.png 885w,\n/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-22891.png 1180w,\n/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc-97417.png 1662w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>üí° Use case 1: lights</h3>\n<p>I first got interested in smart homes and home automation technologies roughly about 2 years ago (early 2016) and for the duration of the first year, that was it, just interest. Reading articles, exploring software.</p>\n<h4>It all started last Christmas when I got my hands on a <a href=\"https://amzn.to/2haOccI\">Philips Hue</a> set and I found <a href=\"https://home-assistant.io\">Home Assistant</a></h4>\n<p>It was love at first sight. While there are other viable open source solutions out there and I have played around with a couple (<a href=\"https://www.openhab.org/\">OpenHab</a> and <a href=\"https://nodered.org/\">Node-RED</a>), it was <a href=\"https://home-assistant.io\">Home Assistant</a> that really got me into smart home automation and it stuck around to this day.</p>\n<p>So like most other people who acquire some smart lighting to control my lights at first I just used the Philips Hue app on my phone, my wife used it on hers. We even set it up on the iPads. It was fine to get a sense of what was possible and we kept using it for probably about a month. Right about until I had our first ‚Äústable‚Äù Home Assistant instance running on the <a href=\"https://goo.gl/rSFE7R\">Raspberry Pi</a>. The thing about smart lights is (and in many cases deal-breakers for people to get into smart home automation) it‚Äôs quite suboptimal to have to reach for your phone every time you want to only turn on or off the lamp quickly. There are plenty of work arounds for that depending on your patience and how willing you are to adapt and change your habbits.</p>\n<p>Back at that time though, we still didn‚Äôt have voice automation (that came later and helped A LOT). We never really got into getting actual hardware buttons for the walls (although this could work for some people) so we only had one way to make this work without getting angry at it and discarding the whole idea - automations.</p>\n<h4>That‚Äôs where Home Assistant came in and it really shined</h4>\n<p>You can setup very robust automations, there are plenty of <a href=\"https://home-assistant.io/components/\">docs and examples</a> of how to configure components, awesome <a href=\"https://www.youtube.com/channel/UCLecVrux63S6aYiErxdiy4w/videos\">YouTube videos by Ben</a> (kind of played a huge role in getting me started in the first place, so thanks and a shout out for that!). Additionally the community is <strong>awesome</strong> and I absolutely recommend the <a href=\"https://hasspodcast.io/feed/podcast\">podcast</a>, joining the <a href=\"https://discord.gg/c5DvZ4e\">discord channel</a> or checking out <a href=\"https://community.home-assistant.io/\">the forum</a> for help and ideas.</p>\n<p>Here are a couple of light automations I‚Äôm running:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Turn on lights at sunset</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">alias</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Lights on 30 mins before sunset\"</span>\n  <span class=\"token key atrule\">trigger</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">platform</span><span class=\"token punctuation\">:</span> sun\n    <span class=\"token key atrule\">event</span><span class=\"token punctuation\">:</span> sunset\n    <span class=\"token key atrule\">offset</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"-00:30:00\"</span>\n  <span class=\"token key atrule\">action</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> light.turn_on\n      <span class=\"token key atrule\">data</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> light.office_hue\n          <span class=\"token punctuation\">-</span> light.living_room_hue\n          <span class=\"token punctuation\">-</span> light.kitchen\n        <span class=\"token key atrule\">brightness</span><span class=\"token punctuation\">:</span> <span class=\"token number\">225</span>\n        <span class=\"token key atrule\">color_temp</span><span class=\"token punctuation\">:</span> <span class=\"token number\">327</span>\n        <span class=\"token key atrule\">transition</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> tts.google_say\n      <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span> media_player.living_room_home\n      <span class=\"token key atrule\">data</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">message</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Turning on all lights.\"</span>\n\n<span class=\"token comment\"># Turn off lights at 23:45</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">alias</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Lights off at 23:45 (sun-thu)\"</span>\n  <span class=\"token key atrule\">trigger</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">platform</span><span class=\"token punctuation\">:</span> time\n      <span class=\"token key atrule\">at</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"23:45\"</span>\n  <span class=\"token key atrule\">condition</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">condition</span><span class=\"token punctuation\">:</span> time\n      <span class=\"token key atrule\">weekday</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> mon\n        <span class=\"token punctuation\">-</span> tue\n        <span class=\"token punctuation\">-</span> wed\n        <span class=\"token punctuation\">-</span> thu\n        <span class=\"token punctuation\">-</span> sun\n  <span class=\"token key atrule\">action</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> light.turn_off\n      <span class=\"token key atrule\">data</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> light.office_hue\n          <span class=\"token punctuation\">-</span> light.living_room_hue\n          <span class=\"token punctuation\">-</span> light.kitchen\n        <span class=\"token key atrule\">transition</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> homeassistant.turn_off\n      <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span> switch.livingroom_window_lights\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> homeassistant.turn_off\n      <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span> switch.livingroom_ball_lights\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> homeassistant.turn_off\n      <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span> switch.livingroom_charger</code></pre></div>\n<p>This <code class=\"language-text\">yaml</code> code is one of the ways to configure Home Assistant. It is very easy to grasp, it is very similar to JSON in a sense that both operate with the idea of key - value pairs. It is very straight forward to read and configuring an automation usually consists of a <code class=\"language-text\">trigger</code> and an <code class=\"language-text\">action</code> with an optional extra <code class=\"language-text\">condition</code> in between. If you are completely new to the topic, grab yourself the free and open source blazing fast text editor <a href=\"https://code.visualstudio.com/\">VS Code</a> and watch the spacing and the validity of your yaml config files.</p>\n<p>In the first example I use the <code class=\"language-text\">sun</code> component from Home Assistant to get sunset time data and turn on certain lights half an hour before sunset and announce the event on the Google Home speaker. This is much better in many cases than a hard coded time value that you would then have to change every so often.</p>\n<p>The other automation turns off the lights on Sunday through Thursday at 11:45 pm with a 5 second transition. This is probably a good time to mention that I am using at home Philips Hue, <a href=\"https://goo.gl/2XeVy4\">Xiaomi Mi Yeelight</a> and <a href=\"https://goo.gl/tFJ3nS\">Ikea Tradfri</a> light bulbs. The best about it all is that it doesn‚Äôt matter one bit, everything works seemlessly and I don‚Äôt have to use 3 separate apps on my phone. It all works through Home Assistant.</p>\n<p>I am also very pleasantly surpised with both the Xiaomi light bulbs and the Ikea ones. I have used the Xiaomi bulbs since February 2017 and the Ikea ones since March 2017 with absolutely no complains and no fails. It is worth mentioning that the Ikea Tradfri has probably the best implementation securty wise (using Coap) and have been praised rightfully a lot for that. They also use a gateway like the Philips Hue. I think soon enough I would actually be able to ditch one of the gateways as support for controlling both Ikea and Philips bulbs is coming to the Ikea gateway. On the otherhand the Xiaomi light bulbs don‚Äôt need a gateway, since they connect directly to Wi-Fi.</p>\n<h3>üîå Use case 2: outlets</h3>\n<p>As a rule of thumb, it is good to approach your next home automation project with the following questions:</p>\n<ul>\n<li>What problem am I solving?</li>\n<li>How will this automation improve my quality of life?</li>\n<li>Will it save me time?</li>\n</ul>\n<p>Anything that you consider a quality of life improvement and a time-saver is probably a good project and worth automating. I enjoy reducing pointless everyday decision making on smaller tasks and prefer to save cognitive resources for where it matters.</p>\n<p>One such project saved me from having to make coffee every morning.</p>\n<p>Sure, I still need to fill up the coffee maker every night and so I don‚Äôt save myself all the effort but just getting my coffee ready leaves me one thing less to think about in the morning. Plus the added benefit of waking up to the smell of coffee brewing is pretty nice.</p>\n<p>I‚Äôve had that automation running now for nearly a year and it had failed maybe ~ 1-2 times and that‚Äôs how I noticed I actually really miss having it. In a nutshell, my coffee maker turns on weekdays at 6:50 and turns off at 7:00. Makes my coffee for about 2 minutes and then keeps it warm until I pour it into my to-go cup and leave the house. The conditions and triggers are set up in Home Assistant and look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Make coffee at 6:50</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">alias</span><span class=\"token punctuation\">:</span> Make morning coffee\n  <span class=\"token key atrule\">trigger</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">platform</span><span class=\"token punctuation\">:</span> time\n      <span class=\"token key atrule\">at</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">06:50</span>\n  <span class=\"token key atrule\">condition</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">condition</span><span class=\"token punctuation\">:</span> time\n      <span class=\"token key atrule\">weekday</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> mon\n        <span class=\"token punctuation\">-</span> tue\n        <span class=\"token punctuation\">-</span> wed\n        <span class=\"token punctuation\">-</span> thu\n        <span class=\"token punctuation\">-</span> fri\n  <span class=\"token key atrule\">action</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> switch.turn_on\n      <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span> switch.kitchen_coffee_pot\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">delay</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">00:10:00</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> switch.turn_off\n      <span class=\"token key atrule\">entity_id</span><span class=\"token punctuation\">:</span> switch.kitchen_coffee_pot</code></pre></div>\n<p>It is quite straight forward and there are plenty of other examples online as well. As far as hardware goes in this case I‚Äôm using <a href=\"https://goo.gl/VyJa4h\">433 MHz outlets</a> that are controllable via a remote but easily re-programmable and so I also have some cheap <a href=\"https://goo.gl/LCvJih\">433 MHz transmitter and receiver</a> connected to an <a href=\"https://goo.gl/Qn8ZjX\">ESP8266 based NodeMCU</a> board that runs this piece of <a href=\"https://github.com/1technophile/OpenMQTTGateway/\">awesome gateway software that deals with MQTT-to-433</a> bidirectionally among other things. Sure, that may sound like a mouthful and maybe seem a bit intimidating or too complicate at first, but I promise you, it is much, much simpler than you may think.</p>\n<p>At the end of the day there are other ways to implement this project. Go the way that fits your lifestyle. For me it was important to seemlessly retrofit the coffee maker while not messing with mains voltage and that was a resounding success. <strong>Now I can have coffee every day :)</strong></p>\n<h3>üí¨ Use case 3: voice control and tying it all together</h3>\n<p>One of the biggest enablers for the home automation project was <a href=\"https://goo.gl/rE8rmp\">Google Home</a> and the <a href=\"https://amzn.to/2x6Dpus\">Amazon Echo</a>. Using the <code class=\"language-text\">emulated hue</code> component you can expose any device and sensor from within Home Assistant to those voice assistant. Then you can control things that would otherwise not have a direct app for Google Home. I don‚Äôt have a favorite, I use both. For somethings I prefer Alexa with her simple response <code class=\"language-text\">OK</code> after she executes a command. For most other things and non home automation things, music, casting to TV using a <a href=\"https://goo.gl/ACypXo\">Chromecast</a>, informative answers, reminders, timers I use exclusively Google Home.</p>\n<p>Using voice control with home assistant scenes is when smart home automation feels very powerful and futuristic. My favorite two are <code class=\"language-text\">&#39;Hey Google, time for bed&#39;</code> that basically shuts down the house and <code class=\"language-text\">&#39;Hey, Google it&#39;s movie time&#39;</code> to turn off all but living room lights, set tv backlight to teal and dim the living room.</p>\n<p>We have really gotten used to use those for quick control and definitely bonus points go to Google Home for being able to entertain my son by counting to 10, saying the alphabet, singing lullabies and playing animal sounds on cue.</p>\n<h3>‚ú® Conclusion and results</h3>\n<p>It is still very much early days for both the systems and the devices. Things will change and evolve with time, so if you are an enthusist that wants to get in it now, you have to bear with some of the issues and be willing to learn and adapt along the way.</p>\n<p>My advice:</p>\n<ul>\n<li>go for <strong>small projects that improve your life</strong> to see the real value</li>\n<li><strong>start simple</strong> and fine tune projects later on</li>\n<li><strong>give it time</strong> to get used to the various technologies</li>\n<li>many projects are an effort to set up but then <strong>you don‚Äôt have to touch them for months or years</strong> while getting the benefits</li>\n</ul>\n<p>So if I managed to sparkle your interest go get a copy of <a href=\"https://home-assistant.io\">Home Assistant</a> set it up and start experimenting. Here is <a href=\"https://github.com/jumpalottahigh/YAR-Home-Assistant-Configuration\">my configuration repository</a> on GitHub and here‚Äôs another one with even more examples by <a href=\"https://github.com/CCOSTAN/Home-AssistantConfig/\">ccostan</a>.</p>\n<p>In my case I learnt a lot about <strong>smart home automation</strong> in general, about <strong>MQTT</strong> and sensors and fell in love with the <strong>esp8266</strong> chip. I got to fiddle with many different products, software and embedded devices. I did plenty of soldering and had a lot of fun while at it even though I‚Äôm just scratching the surface of what‚Äôs possible. I gained an awesome, <strong>fun hobby</strong> that is not going anywhere and fits perfectly as something fun to do especially during the longer winters in Finland.</p>\n<p>Doing this I was also able to contribute (although on a small scale) a few PRs to some of the different Home Assistant projects on GitHub. It is a great way to get started with contributing to open source projects. I‚Äôm really looking forward to being able to contribute even more to Home Assistant going forward into 2018.</p>\n<p>Lastly I‚Äôd like to leave you with a currated list of resources. This is not meant as an extensive list and I am certainly unintentionally missing some of the greatest resources out there, but it should definitely help you out at first.</p>\n<p><strong>Resources list:</strong></p>\n<ul>\n<li><a href=\"https://home-assistant.io\">Home Assistant - site</a></li>\n<li><a href=\"https://www.youtube.com/channel/UCLecVrux63S6aYiErxdiy4w/videos\">Great videos by Ben on getting started with Home Assistant</a></li>\n<li><a href=\"https://hasspodcast.io/feed/podcast\">Home Assistant Podcast</a></li>\n<li><a href=\"https://discord.gg/c5DvZ4e\">Home Assistant Discord channel</a></li>\n<li><a href=\"https://community.home-assistant.io/\">Home Assistant Forums</a></li>\n<li><a href=\"https://github.com/jumpalottahigh/YAR-Home-Assistant-Configuration\">Georgi‚Äôs Home Assistant config repository</a></li>\n<li><a href=\"https://github.com/bruhautomation/BRUH3-Home-Assistant-Configuration\">Ben‚Äôs Home Assistant config repository</a></li>\n<li><a href=\"https://github.com/CCOSTAN/Home-AssistantConfig/\">CCOSTAN‚Äôs Home Assistant config repository</a></li>\n</ul>\n<p>Have fun and enjoy automating!</p>","excerpt":"In this blog post I will share my experience and learnings from living in a smart home for a year. Before we get started, however, let‚Äôs get‚Ä¶","frontmatter":{"date":"November 11, 2017","dateUnformatted":"2017-11-11","path":"/smart-home/living-with-smart-home-automation","title":"Living with smart home automation for a year","tags":"refactoring","relatedArticles":["mitigating-a-smart-home-breach"],"disqus_identifier":"living-with-smart-home-automation","author":"Georgi Yanev","affiliate":"This article contains affiliate links to Banggood or Amazon that would support the blog if used to make a purchase.","ogKeywords":"smart home automation, Home Assistant, smart, home automation, esp8266, mqtt, 433 MHz, Alexa, Amazon Echo, Google Home, Google Assistant, Philips Hue, Ikea Tradfri, Xiaomi Yeelight, Raspberry Pi","ogDescription":"I first got interested in smart homes and home automation technologies roughly about 2 years ago (early 2016) and for the duration of the first year, that was it, just interest. Reading articles, exploring software. Then I found Home Assistant.","ogImage":{"publicURL":"/static/living-in-a-smart-home-271f9d1921251db241f86be2f48309dc.png"}}}},"pageContext":{}}